<div class="container-fluid">
    
  
    <!-- TITLE -->
    <div class="py-4 page-title">
      <div *ngIf="periodicalArticle != null"> <!-- bootstrap class: vertical padding 4 -->
        <h3>
            ¬´ <span [innerHTML]="periodicalArticle?.title | removeTextAndPar | htmlSanitizer"></span> ¬ª,
            <i>{{ periodicalLight?.title }}</i>
            ({{ periodicalArticle?.date | knoradatesFormatting }})
        </h3>
      </div>

      <div *ngIf="book != null"> 
          <h3>
              <i [innerHTML]="book?.title | htmlSanitizer"></i>
              ({{ book?.date | knoradatesFormatting }})
          </h3>
      </div>

      <div *ngIf="bookSection != null"> 
          <h3>
              ¬´ <span [innerHTML]="bookSection?.title | htmlSanitizer"></span> ¬ª,
              <i>{{ bookSection?.book }}</i>,
              ({{ book?.date | knoradatesFormatting }})
          </h3>
      </div>
    </div> <!-- end title -->



    <div class="row my-4">     

      <!-- READER CONTROLS -->
      <div class="col-1">
        <mat-expansion-panel>
          <mat-expansion-panel-header>
              <mat-panel-title>aA</mat-panel-title>
          </mat-expansion-panel-header>
          <div>
            <div class="mb-5">
              <button type="button" class="btn-block btn btn-sm btn-outline-secondary" 
                      (click)="changeFontSize('readingText', 1)">+</button>
              <button type="button" class="btn-block btn btn-sm btn-outline-secondary"
                      (click)="changeFontSize('readingText', -1)">-</button>
            </div>
            <div class="mb-5">
              <button type="button" class="btn-block btn btn-sm btn-outline-secondary" 
                      (click)="changeHorizontalPadding('readingText', 20)">‚Üí‚Üê</button>
              <button type="button" class="btn-block btn btn-sm btn-outline-secondary" 
                      (click)="changeHorizontalPadding('readingText', -20)">‚Üê‚Üí</button>
            </div>
            <div class="mb-5">
              <button type="button" class="btn-block btn btn-sm btn-dark" 
                      (click)="changeBackgroundColor('readingText', '#333333', '#ffffff')">dark</button>
              <button type="button" class="btn-block btn btn-sm btn-outline-secondary" 
                      (click)="changeBackgroundColor('readingText', '#f8f8f8', '#212529')">light</button>
            </div>
            <div class="mb-5">
              <button type="button" class="btn-block btn btn-sm btn-outline-secondary" 
                      (click)="changeLineHeight('readingText', 1)">‚Üë<br/>‚Üì</button>
              <button type="button" class="btn-block btn btn-sm btn-outline-secondary" 
                      (click)="changeLineHeight('readingText', -1)">‚Üì<br/>‚Üë</button>
            </div>
          </div>
        </mat-expansion-panel>
      </div> <!-- end reader controlS -->

      
      
      <!-- TEXT CONTENT - MAIN -->
      <div class="col-7 container-scrollable" id="readingText">
        <main>
          <or-text-view [text]="text"></or-text-view>
        </main>
      </div> <!-- end text content -->
      

      
      <!-- ENTITIES -->
      <div class="col-3 offset-1">
        <mat-expansion-panel expanded="true">
          <mat-expansion-panel-header>
              <mat-panel-title>Rep√®res</mat-panel-title>
          </mat-expansion-panel-header>
          <div>
              <div class="mb-3">
                <div class="form-check">
                  <input class="form-check-input" type="checkbox" id="entitiesCheckbox" (click)="visualizeEntities(body)">
                  <label class="form-check-label" for="entitiesCheckbox">
                    Trouver dans le texte
                  </label>
                </div>
              </div>
              <div>
                  <fa-icon [icon]="faCoffee"></fa-icon>
                  <strong class="tei-persName">Personnes</strong>
                  <ul>
                    <li *ngFor="let personLight of personsMentioned">
                      {{ personLight.name }} {{ personLight.surname }}
                      <a routerLink="/persons/{{ personLight.id | encodeURIComponent }}"
                        > üîó</a
                      >
                    </li>
                  </ul>
              </div>
              <div>
                  <strong class="tei-placeName">Lieux</strong>
                  <ul>
                    <li *ngFor="let placeLight of placesMentioned">
                      {{ placeLight.name }}
                      <a routerLink="/places/{{ placeLight.id | encodeURIComponent }}"
                        > üîó</a
                      >
                    </li>
                  </ul>
              </div>
              <div>
                  <strong class="tei-ref">≈íuvres</strong>
                  <ul>
                    <li *ngFor="let work of worksMentioned">
                      <span *ngFor="let workAuthor of workAuthors">
                        <span *ngIf="workAuthor?.id == work?.authorValue">{{ workAuthor?.name}} {{ workAuthor?.surname }}, </span>
                      </span>
                      <span [innerHTML]="work?.title | removeTextAndPar | htmlSanitizer"></span>
                      <span *ngIf="work?.date"> ({{ work?.date | knoradatesFormatting }})</span>
                      
                      <span *ngIf="work?.notice != null">
                        <a routerLink="/works/{{ work?.id | encodeURIComponent }}"> üîó</a>
                      </span>
                    </li>
                  </ul>
              </div>
          </div>
        </mat-expansion-panel>
      </div> <!-- end entities -->
      

    </div> <!-- end row -->



    <div class="row">
      <div class="col-7">
          <!-- PERMANENT IDENTIFIERS -->
          <div class="my-5 permanentId">
              <p><strong>{{ 'resource.ark' | translate }}</strong> : {{ text?.ark }}</p>
          </div>
      </div>
    </div>

</div>