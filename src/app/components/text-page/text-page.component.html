<div class="container-fluid">
    
  
    <!-- TITLE -->
    <div class="py-4 page-title">
      <div *ngIf="periodicalArticle != null"> <!-- bootstrap class: vertical padding 4 -->
        <h3>
            « <span [innerHTML]="periodicalArticle?.title | removeTextAndPar | htmlSanitizer"></span> »,
            <i>{{ periodicalLight?.title }}</i>
            ({{ periodicalArticle?.date | knoradatesFormatting }})
        </h3>
      </div>

      <div *ngIf="book != null"> 
          <h3>
              <i [innerHTML]="book?.title | htmlSanitizer"></i>
              ({{ book?.date | knoradatesFormatting }})
          </h3>
      </div>

      <div *ngIf="bookSection != null"> 
          <h3>
              « <span [innerHTML]="bookSection?.title | htmlSanitizer"></span> »,
              <i>{{ bookSection?.book }}</i>,
              ({{ book?.date | knoradatesFormatting }})
          </h3>
      </div>
    </div> <!-- end title -->



    <div class="row my-4">     

      <!-- TEXT CONTENT -->

      <!-- reader controls -->
      <div class="col-1">
        <div class="my-1">
          <button type="button" class="half btn btn-outline-secondary" 
                  (click)="changeFontSize('readingText', 1)">+</button>
          <button type="button" class="half btn btn-outline-secondary"
                  (click)="changeFontSize('readingText', -1)">-</button>
        </div>
        <div class="my-1">
          <button type="button" class="half btn btn-sm btn-outline-secondary" 
                  (click)="changeHorizontalPadding('readingText', 20)">→←</button>
          <button type="button" class="half btn btn-sm btn-outline-secondary" 
                  (click)="changeHorizontalPadding('readingText', -20)">←→</button>
        </div>
        <div class="my-1">
          <button type="button" class="half btn btn-sm btn-dark" 
                  (click)="changeBackgroundColor('readingText', '#333333', '#ffffff')">dark</button>
          <button type="button" class="half btn btn-sm btn-outline-secondary" 
                  (click)="changeBackgroundColor('readingText', '#f8f8f8', '#212529')">light</button>
        </div>
        <div class="my-1">
          <button type="button" class="half btn btn-sm btn-outline-secondary" 
                  (click)="changeLineHeight('readingText', 1)">↑<br/>↓</button>
          <button type="button" class="half btn btn-sm btn-outline-secondary" 
                  (click)="changeLineHeight('readingText', -1)">↓<br/>↑</button>
        </div>
        <!-- font awesome downloaded but not used in the end -->
      </div>

      <!-- text MAIN-->
      <div class="col-7 container-scrollable">
        <main id="readingText">
          <or-text-view [text]="text"></or-text-view>
        </main>
      </div>
      

      <!-- ENTITIES -->
      <div class="col-3 offset-1">

        <mat-expansion-panel expanded="true">
          <mat-expansion-panel-header>
              <mat-panel-title>Repères</mat-panel-title>
          </mat-expansion-panel-header>
          <div>
              <div>
                  <strong>Personnes</strong>
                  <ul>
                    <li *ngFor="let personLight of personsLight">
                      <a routerLink="/persons/{{ personLight.id | encodeURIComponent }}"
                        >{{ personLight.name }} {{ personLight.surname }}</a
                      >
                    </li>
                  </ul>
              </div>
              <div>
                  <strong>Lieux</strong>
                  <ul>
                    <li>test test</li>
                    <li>encore un test</li>
                  </ul>
              </div>
              <div>
                  <strong>Œuvres</strong>
                  <ul>
                    <li>encore un test</li>
                    <li>test test</li>
                  </ul>
              </div>
          </div>
        </mat-expansion-panel>
         
      </div> <!-- end col entities -->
      
    </div> <!-- end row -->



    <div class="row">
      <div class="col-7">
          <!-- PERMANENT IDENTIFIERS -->
          <div class="my-5 permanentId">
              <p><strong>{{ 'resource.ark' | translate }}</strong> : {{ text?.ark }}</p>
          </div>
      </div>
    </div>

</div>